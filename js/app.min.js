(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("main"),t=document.querySelector(".banner"),o=document.querySelector(".banner__top"),n=document.querySelector(".banner__bottom"),a=document.querySelector(".catalog"),i=document.querySelector("header"),r=document.querySelectorAll(".banner__link"),l=document.querySelectorAll(".favorite-button"),c=document.querySelector("#feedbackForm"),s=document.querySelector("input[name='input-phone']"),d=document.querySelector("input[name='input-name']"),u=document.querySelector(".preloader");let m=1,v=!1,p=null,h=!1,b=!1,w=1,f={root:e,threshold:.05};new IMask(s,{mask:"+7 (000) 000-00-00",lazy:!1}),d.addEventListener("input",(e=>{const t=e.target.value.replace(/[^a-zа-яё]/gi,"");e.target.value=t})),window.addEventListener("load",E),window.addEventListener("resize",E),window.addEventListener("load",(function(e){u.classList.add("hidden"),setTimeout((()=>{u.remove()}),1e3)})),l.forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.classList.toggle("favorite-button__active")}))})),r.forEach((o=>{o.addEventListener("click",(function(o){o.preventDefault(),o.stopPropagation(),b=!0,t.dataset.animation="4",a.scrollIntoView({block:"start",behavior:"smooth"}),h=!0,e.classList.add("scrollable"),m+=1,setTimeout((()=>{b=!1}),500)}))})),document.addEventListener("touchstart",(function(e){p=e})),document.addEventListener("touchmove",(function(e){p&&(v=-1*(e.touches[0].pageY-p.touches[0].pageY)<0,L(v,m),p=null)})),window.addEventListener("wheel",(function(e){v=e.deltaY<0,L(v,m)}));let g=new IntersectionObserver((()=>{4===m&&v&&!b&&(t.dataset.animation="3",e.classList.remove("scrollable"),n.scrollIntoView({block:"start",behavior:"smooth"}),h=!1,m--)}),f);n&&g.observe(n),c.addEventListener("submit",(function(e){e.preventDefault();let t=e.target,o=[];t.querySelectorAll("[data-validate]").forEach((function(e){e.value;var t=e.closest(".input-item");o.push(e);for(let t=0;t<o.length;t++)"input-phone"===e.getAttribute("name")&&12!==e.value.replace(/[^+\d]/g,"").length&&n(),e.value||n();function n(){t.classList.add("input-item--error"),setTimeout((()=>{t.classList.remove("input-item--error")}),3e3)}}))}));const L=(r,l)=>S((function(){if(!h)return 1!==l||r?2===l?(r?(t.dataset.animation="1",o.scrollIntoView({block:"start",behavior:"smooth"})):(t.dataset.animation="3",i.classList.add("appear"),n.scrollIntoView({block:"start",behavior:"smooth"})),void(m+=r?-1:1)):3===l?(r?(t.dataset.animation="2",i.classList.remove("appear"),o.scrollIntoView({block:"start",behavior:"smooth"})):(t.dataset.animation="4",a.scrollIntoView({block:"start",behavior:"smooth"}),h=!0,e.classList.add("scrollable")),void(m+=r?-1:1)):void 0:(t.dataset.animation="2",void m++)}),100,"bannerAnimation");function E(){w=document.documentElement.clientWidth>=569?document.documentElement.clientWidth/1440*10:document.documentElement.clientWidth/390*10,new Swiper(".catalog-swiper__box",{loop:!0,spaceBetween:2.4*w,pagination:{el:".catalog-swiper__pagination",clickable:!0},navigation:{nextEl:".catalog-swiper__button--next",prevEl:".catalog-swiper__button--prev"},breakpoints:{0:{slidesPerView:1.2,centeredSlides:!1},568:{slidesPerView:3,centeredSlides:!0}}})}const S=function(){let e={};return function(t,o,n){n||(n="Don't call this twice without a uniqueId"),e[n]&&clearTimeout(e[n]),e[n]=setTimeout(t,o)}}()}))})();